<Page x:Class="ToxicBizBuddyWPF.Views.DashboardPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:components="clr-namespace:ToxicBizBuddyWPF.Components;assembly=ToxicBizBuddyWPF"
      Title="DashboardPage">
    <components:PageWrapper>
        <!-- margen interno para que nada quede pegado a los bordes -->
        <StackPanel Margin="20">

            <!-- Header con botón “Nuevo Pedido” -->
            <Grid Margin="0,0,0,16">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <StackPanel>
                    <TextBlock Text="Dashboard" Style="{StaticResource H1}"/>
                    <TextBlock Text="Resumen general del negocio" Style="{StaticResource Subtle}" Margin="0,4,0,0"/>
                </StackPanel>

                <Button Grid.Column="1" Style="{StaticResource BtnPrimary}" Padding="14,8">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="" FontFamily="Segoe MDL2 Assets" Margin="0,0,6,0"/>
                        <TextBlock Text="Nuevo Pedido"/>
                    </StackPanel>
                </Button>
            </Grid>

            <!-- Fila de KPIs (4 columnas, sin CTA a la derecha) -->
            <Grid Margin="0,0,0,16">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Ventas del Día -->
                <Border Grid.Column="0" Style="{StaticResource StatCardSuccess}" Margin="0,0,12,0">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="Ventas del Día" Style="{StaticResource Subtle}"/>
                            <TextBlock Text="$12,450" FontSize="24" FontWeight="Bold" Margin="0,6,0,4" Foreground="{StaticResource TextStrongBrush}"/>
                            <TextBlock Text="+8.2% vs mes anterior" Style="{StaticResource DeltaPositive}"/>
                        </StackPanel>
                        <Border Grid.Column="1" Style="{StaticResource KpiIconPill}" Margin="12,0,0,0" VerticalAlignment="Top">
                            <TextBlock Text="" FontFamily="Segoe MDL2 Assets" Foreground="#1E40AF"/>
                        </Border>
                    </Grid>
                </Border>

                <!-- Pedidos Activos -->
                <Border Grid.Column="1" Style="{StaticResource StatCard}" Margin="12,0,12,0">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="Pedidos Activos" Style="{StaticResource Subtle}"/>
                            <TextBlock Text="23" FontSize="24" FontWeight="Bold" Margin="0,6,0,4" Foreground="{StaticResource TextStrongBrush}"/>
                            <TextBlock Text="+12% vs mes anterior" Style="{StaticResource DeltaPositive}"/>
                        </StackPanel>
                        <Border Grid.Column="1" Style="{StaticResource KpiIconPill}" Margin="12,0,0,0" VerticalAlignment="Top">
                            <TextBlock Text="" FontFamily="Segoe MDL2 Assets" Foreground="#1E40AF"/>
                        </Border>
                    </Grid>
                </Border>

                <!-- Clientes Totales -->
                <Border Grid.Column="2" Style="{StaticResource StatCard}" Margin="12,0,12,0">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="Clientes Totales" Style="{StaticResource Subtle}"/>
                            <TextBlock Text="142" FontSize="24" FontWeight="Bold" Margin="0,6,0,4" Foreground="{StaticResource TextStrongBrush}"/>
                            <TextBlock Text="+5.1% vs mes anterior" Style="{StaticResource DeltaPositive}"/>
                        </StackPanel>
                        <Border Grid.Column="1" Style="{StaticResource KpiIconPill}" Margin="12,0,0,0" VerticalAlignment="Top">
                            <TextBlock Text="" FontFamily="Segoe MDL2 Assets" Foreground="#1E40AF"/>
                        </Border>
                    </Grid>
                </Border>

                <!-- Stock Bajo -->
                <Border Grid.Column="3" Style="{StaticResource StatCard}" Margin="12,0,0,0">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="Stock Bajo" Style="{StaticResource Subtle}"/>
                            <TextBlock Text="7" FontSize="24" FontWeight="Bold" Margin="0,6,0,4" Foreground="{StaticResource TextStrongBrush}"/>
                            <TextBlock Text="Revisar reposición" Style="{StaticResource DeltaWarn}"/>
                        </StackPanel>
                        <Border Grid.Column="1" Style="{StaticResource KpiIconPill}" Margin="12,0,0,0" VerticalAlignment="Top" Background="#FFF7ED">
                            <TextBlock Text="" FontFamily="Segoe MDL2 Assets" Foreground="#D97706"/>
                        </Border>
                    </Grid>
                </Border>
            </Grid>

            <!-- Dos columnas: Pedidos recientes / Stock Bajo -->
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="2*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Pedidos Recientes -->
                <Border Grid.Column="0" Style="{StaticResource CardStyle}" Margin="0,0,12,0">
                    <StackPanel>
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                            <TextBlock Text="" FontFamily="Segoe MDL2 Assets" Foreground="#2563EB" Margin="0,0,8,0"/>
                            <TextBlock Text="Pedidos Recientes" Style="{StaticResource SectionTitle}"/>
                        </StackPanel>
                        <Separator Margin="0,12,0,12" Background="{StaticResource DividerBrush}" Height="1"/>

                        <!-- Item 1 -->
                        <Border Style="{StaticResource SoftItem}" Margin="0,0,0,10">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <StackPanel Orientation="Horizontal">
                                        <Ellipse Width="8" Height="8" Fill="#10B981" VerticalAlignment="Center"/>
                                        <TextBlock Text="  María García" FontWeight="SemiBold" Margin="6,0,0,0"/>
                                    </StackPanel>
                                    <TextBlock Text="#001 - 10:30 AM" Style="{StaticResource Subtle}"/>
                                </StackPanel>
                                <StackPanel Grid.Column="1" HorizontalAlignment="Right">
                                    <TextBlock Text="$450" FontWeight="SemiBold" HorizontalAlignment="Right"/>
                                    <TextBlock Text="Completado" Foreground="#16A34A" HorizontalAlignment="Right" FontSize="12" FontWeight="SemiBold"/>
                                </StackPanel>
                            </Grid>
                        </Border>

                        <!-- Item 2 -->
                        <Border Style="{StaticResource SoftItem}" Margin="0,0,0,10">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <StackPanel Orientation="Horizontal">
                                        <Ellipse Width="8" Height="8" Fill="#F59E0B" VerticalAlignment="Center"/>
                                        <TextBlock Text="  Carlos López" FontWeight="SemiBold" Margin="6,0,0,0"/>
                                    </StackPanel>
                                    <TextBlock Text="#002 - 11:15 AM" Style="{StaticResource Subtle}"/>
                                </StackPanel>
                                <StackPanel Grid.Column="1" HorizontalAlignment="Right">
                                    <TextBlock Text="$230" FontWeight="SemiBold" HorizontalAlignment="Right"/>
                                    <TextBlock Text="Pendiente" Foreground="#D97706" HorizontalAlignment="Right" FontSize="12" FontWeight="SemiBold"/>
                                </StackPanel>
                            </Grid>
                        </Border>

                        <!-- Item 3 -->
                        <Border Style="{StaticResource SoftItem}">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <StackPanel Orientation="Horizontal">
                                        <Ellipse Width="8" Height="8" Fill="#F59E0B" VerticalAlignment="Center"/>
                                        <TextBlock Text="  Ana Rodríguez" FontWeight="SemiBold" Margin="6,0,0,0"/>
                                    </StackPanel>
                                    <TextBlock Text="#003 - 12:00 PM" Style="{StaticResource Subtle}"/>
                                </StackPanel>
                                <StackPanel Grid.Column="1" HorizontalAlignment="Right">
                                    <TextBlock Text="$680" FontWeight="SemiBold" HorizontalAlignment="Right"/>
                                    <TextBlock Text="Pendiente" Foreground="#D97706" HorizontalAlignment="Right" FontSize="12" FontWeight="SemiBold"/>
                                </StackPanel>
                            </Grid>
                        </Border>
                    </StackPanel>
                </Border>

                <!-- Stock Bajo -->
                <Border Grid.Column="1" Style="{StaticResource CardStyle}">
                    <StackPanel>
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                            <TextBlock Text="" FontFamily="Segoe MDL2 Assets" Foreground="#D97706" Margin="0,0,8,0"/>
                            <TextBlock Text="Stock Bajo" Style="{StaticResource SectionTitle}"/>
                        </StackPanel>
                        <Separator Margin="0,12,0,12" Background="{StaticResource DividerBrush}" Height="1"/>

                        <!-- Producto 1 -->
                        <Border Style="{StaticResource SoftItemWarn}" Margin="0,0,0,10">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <TextBlock Text="Detergente Líquido" FontWeight="SemiBold"/>
                                    <TextBlock Text="Mínimo: 10 unidades" Style="{StaticResource Subtle}"/>
                                </StackPanel>
                                <StackPanel Grid.Column="1" HorizontalAlignment="Right">
                                    <TextBlock Text="3" FontWeight="Bold" HorizontalAlignment="Right"/>
                                    <TextBlock Text="disponibles" Style="{StaticResource Subtle}" HorizontalAlignment="Right"/>
                                </StackPanel>
                            </Grid>
                        </Border>

                        <!-- Producto 2 -->
                        <Border Style="{StaticResource SoftItemWarn}" Margin="0,0,0,10">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <TextBlock Text="Desinfectante Multiuso" FontWeight="SemiBold"/>
                                    <TextBlock Text="Mínimo: 5 unidades" Style="{StaticResource Subtle}"/>
                                </StackPanel>
                                <StackPanel Grid.Column="1" HorizontalAlignment="Right">
                                    <TextBlock Text="1" FontWeight="Bold" HorizontalAlignment="Right"/>
                                    <TextBlock Text="disponibles" Style="{StaticResource Subtle}" HorizontalAlignment="Right"/>
                                </StackPanel>
                            </Grid>
                        </Border>

                        <!-- Producto 3 -->
                        <Border Style="{StaticResource SoftItemWarn}">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <TextBlock Text="Jabón en Polvo" FontWeight="SemiBold"/>
                                    <TextBlock Text="Mínimo: 8 unidades" Style="{StaticResource Subtle}"/>
                                </StackPanel>
                                <StackPanel Grid.Column="1" HorizontalAlignment="Right">
                                    <TextBlock Text="2" FontWeight="Bold" HorizontalAlignment="Right"/>
                                    <TextBlock Text="disponibles" Style="{StaticResource Subtle}" HorizontalAlignment="Right"/>
                                </StackPanel>
                            </Grid>
                        </Border>
                    </StackPanel>
                </Border>
            </Grid>

        </StackPanel>
    </components:PageWrapper>
</Page>

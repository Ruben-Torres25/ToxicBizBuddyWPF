<Window x:Class="ToxicBizBuddyWPF.Views.Dialogs.AddProductDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:sys="clr-namespace:System;assembly=mscorlib"
        Title="Agregar producto"
        WindowStyle="None"
        ResizeMode="NoResize"
        AllowsTransparency="True"
        Background="Transparent"
        WindowStartupLocation="CenterOwner"
        WindowState="Maximized"
        ShowInTaskbar="False"
        Topmost="True">

    <!-- Overlay -->
    <Grid Background="#80000000">
        <!-- Card centrada -->
        <Border Style="{StaticResource CardStyle}" Width="640" HorizontalAlignment="Center" VerticalAlignment="Center">
            <StackPanel>

                <!-- Header (título + cerrar) -->
                <Grid Margin="0,0,0,12">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <TextBlock Text="Agregar producto" Style="{StaticResource H1}" FontSize="20" VerticalAlignment="Center"/>
                    <Button Grid.Column="1"
                  Content="✕"
                  Width="34" Height="34"
                  Background="Transparent"
                  BorderThickness="0"
                  Cursor="Hand"
                  HorizontalAlignment="Right"
                  ToolTip="Cerrar"
                  Click="Close_Click"/>
                </Grid>

                <!-- Formulario -->
                <Grid Margin="0,8,0,0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <!-- Nombre -->
                        <RowDefinition Height="Auto"/>
                        <!-- Categoria / Proveedor -->
                        <RowDefinition Height="Auto"/>
                        <!-- Precio compra / Precio venta -->
                        <RowDefinition Height="Auto"/>
                        <!-- Stock inicial / Estado -->
                        <RowDefinition Height="Auto"/>
                        <!-- SKU -->
                        <RowDefinition Height="Auto"/>
                        <!-- Vencimiento + checkbox -->
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <!-- Nombre -->
                    <StackPanel Grid.Row="0" Grid.ColumnSpan="2" Margin="0,0,0,10">
                        <TextBlock Text="Nombre" Style="{StaticResource Subtle}" Margin="0,0,0,4"/>
                        <TextBox Style="{StaticResource InputText}" ToolTip="Nombre del producto"/>
                    </StackPanel>

                    <!-- Categoría -->
                    <StackPanel Grid.Row="1" Grid.Column="0" Margin="0,0,8,10">
                        <TextBlock Text="Categoría" Style="{StaticResource Subtle}" Margin="0,0,0,4"/>
                        <Border Background="White" BorderBrush="{StaticResource Slate200Brush}" BorderThickness="1" CornerRadius="8" Padding="4">
                            <ComboBox BorderThickness="0" Background="Transparent" Padding="4,2" ToolTip="Categoría del producto">
                                <ComboBoxItem Content="Seleccionar..." IsSelected="True"/>
                                <ComboBoxItem Content="Líquidos"/>
                                <ComboBoxItem Content="Polvos"/>
                                <ComboBoxItem Content="Desinfectantes"/>
                                <ComboBoxItem Content="Accesorios"/>
                            </ComboBox>
                        </Border>
                    </StackPanel>

                    <!-- Proveedor (opcional si gestionás compras) -->
                    <StackPanel Grid.Row="1" Grid.Column="1" Margin="8,0,0,10">
                        <TextBlock Text="Proveedor (opcional)" Style="{StaticResource Subtle}" Margin="0,0,0,4"/>
                        <Border Background="White" BorderBrush="{StaticResource Slate200Brush}" BorderThickness="1" CornerRadius="8" Padding="4">
                            <ComboBox BorderThickness="0" Background="Transparent" Padding="4,2" ToolTip="Proveedor (si gestionás compras)">
                                <ComboBoxItem Content="— Ninguno —" IsSelected="True"/>
                                <ComboBoxItem Content="Proveedor A"/>
                                <ComboBoxItem Content="Proveedor B"/>
                            </ComboBox>
                        </Border>
                    </StackPanel>

                    <!-- Precio de compra -->
                    <StackPanel Grid.Row="2" Grid.Column="0" Margin="0,0,8,10">
                        <TextBlock Text="Precio de compra" Style="{StaticResource Subtle}" Margin="0,0,0,4"/>
                        <TextBox Style="{StaticResource InputText}" ToolTip="Costo de compra (número)"/>
                    </StackPanel>

                    <!-- Precio de venta -->
                    <StackPanel Grid.Row="2" Grid.Column="1" Margin="8,0,0,10">
                        <TextBlock Text="Precio de venta" Style="{StaticResource Subtle}" Margin="0,0,0,4"/>
                        <TextBox Style="{StaticResource InputText}" ToolTip="Precio de venta (número)"/>
                    </StackPanel>

                    <!-- Stock inicial -->
                    <StackPanel Grid.Row="3" Grid.Column="0" Margin="0,0,8,10">
                        <TextBlock Text="Stock inicial" Style="{StaticResource Subtle}" Margin="0,0,0,4"/>
                        <TextBox Style="{StaticResource InputText}" ToolTip="Stock inicial (puede ser 0)"/>
                    </StackPanel>

                    <!-- Estado -->
                    <StackPanel Grid.Row="3" Grid.Column="1" Margin="8,0,0,10">
                        <TextBlock Text="Estado" Style="{StaticResource Subtle}" Margin="0,0,0,4"/>
                        <Border Background="White" BorderBrush="{StaticResource Slate200Brush}" BorderThickness="1" CornerRadius="8" Padding="4">
                            <ComboBox BorderThickness="0" Background="Transparent" Padding="4,2" ToolTip="Estado del producto">
                                <ComboBoxItem Content="Activo" IsSelected="True"/>
                                <ComboBoxItem Content="Inactivo"/>
                            </ComboBox>
                        </Border>
                    </StackPanel>

                    <!-- Código de barras / SKU -->
                    <StackPanel Grid.Row="4" Grid.ColumnSpan="2" Margin="0,0,0,10">
                        <TextBlock Text="Código de barras / SKU" Style="{StaticResource Subtle}" Margin="0,0,0,4"/>
                        <TextBox Style="{StaticResource InputText}" ToolTip="Código único si existe"/>
                    </StackPanel>

                    <!-- Fecha de vencimiento -->
                    <StackPanel Grid.Row="5" Grid.ColumnSpan="2" Margin="0,0,0,0">
                        <TextBlock Text="Fecha de vencimiento (opcional)" Style="{StaticResource Subtle}" Margin="0,0,0,4"/>
                        <StackPanel Orientation="Horizontal">
                            <DatePicker x:Name="ExpiryDatePicker"
                          SelectedDateFormat="Short"
                          ToolTip="Debe ser futura si se informa"
                          Width="180"/>
                            <CheckBox x:Name="NoExpiryCheck"
                        Content="Sin vencimiento"
                        Margin="12,0,0,0"
                        VerticalAlignment="Center"
                        Checked="NoExpiryCheck_Changed"
                        Unchecked="NoExpiryCheck_Changed"/>
                        </StackPanel>
                    </StackPanel>

                </Grid>

                <!-- Footer -->
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,16,0,0">
                    <Button Content="Cancelar" Style="{StaticResource BtnGhost}" Click="Close_Click"/>
                    <Button Content="Guardar"  Style="{StaticResource BtnPrimary}" Margin="12,0,0,0" Click="Save_Click"/>
                </StackPanel>


            </StackPanel>
        </Border>
    </Grid>
</Window>

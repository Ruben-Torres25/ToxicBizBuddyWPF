<UserControl x:Class="ToxicBizBuddyWPF.Views.Sidebar"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Width="250" Background="#FFFFFF">

    <Border Background="#FFFFFF" BorderBrush="#E5E7EB" BorderThickness="0,0,1,0">
        <DockPanel>

            <!-- Header -->
            <Border DockPanel.Dock="Top" BorderBrush="#E5E7EB" BorderThickness="0,0,0,1" Padding="20,18">
                <StackPanel>
                    <TextBlock>
                        <Run Text="Toxic " Foreground="#1D4ED8" FontSize="22" FontWeight="Bold"/>
                        <Run Text="Business" Foreground="#16A34A" FontSize="22" FontWeight="Bold"/>
                    </TextBlock>
                    <TextBlock Text="Sistema de Gestión" FontSize="12" Foreground="#6B7280" Margin="0,4,0,0"/>
                </StackPanel>
            </Border>

            <!-- Menú -->
            <ScrollViewer VerticalScrollBarVisibility="Hidden">
                <StackPanel x:Name="MenuHost" Margin="12,16,12,16">

                    <!-- ===== Estilo del botón de navegación ===== -->
                    <StackPanel.Resources>
                        <!-- boton base con icono circular a la izquierda y texto -->
                        <Style x:Key="NavPill" TargetType="Button">
                            <Setter Property="Height" Value="44"/>
                            <Setter Property="Cursor" Value="Hand"/>
                            <Setter Property="HorizontalAlignment" Value="Stretch"/>
                            <Setter Property="HorizontalContentAlignment" Value="Left"/>
                            <Setter Property="Padding" Value="8,0"/>
                            <Setter Property="Background" Value="Transparent"/>
                            <Setter Property="Foreground" Value="#111827"/>
                            <Setter Property="FontWeight" Value="SemiBold"/>
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <!-- pastilla -->
                                        <Border x:Name="Pill"
                                                CornerRadius="22"
                                                Background="{TemplateBinding Background}">
                                            <!-- layout interno: icono circular + texto -->
                                            <Grid Margin="8,0">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="36"/>
                                                    <ColumnDefinition Width="*"/>
                                                </Grid.ColumnDefinitions>

                                                <!-- círculo blanco del icono -->
                                                <Border x:Name="IconBubble"
                                                        Grid.Column="0"
                                                        Width="28" Height="28"
                                                        CornerRadius="14"
                                                        Background="#FFFFFF"
                                                        VerticalAlignment="Center"
                                                        HorizontalAlignment="Left">
                                                    <!-- glyph tomado del Tag del botón -->
                                                    <TextBlock x:Name="Glyph"
                                                               Text="{TemplateBinding Tag}"
                                                               FontFamily="Segoe MDL2 Assets"
                                                               FontSize="14"
                                                               HorizontalAlignment="Center"
                                                               VerticalAlignment="Center"
                                                               Foreground="#2563EB"/>
                                                </Border>

                                                <!-- texto del item -->
                                                <TextBlock x:Name="Label"
                                                           Grid.Column="1"
                                                           Text="{TemplateBinding Content}"
                                                           VerticalAlignment="Center"
                                                           Margin="10,0,8,0"
                                                           Foreground="{TemplateBinding Foreground}"/>
                                            </Grid>
                                        </Border>

                                        <!-- Estados -->
                                        <ControlTemplate.Triggers>
                                            <!-- Hover -->
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter TargetName="Pill" Property="Background" Value="#EEF2FF"/>
                                            </Trigger>

                                            <!-- Activo: Tag='active' en el propio botón -->
                                            <Trigger Property="Tag" Value="active">
                                                <Setter TargetName="Pill" Property="Background" Value="#2563EB"/>
                                                <Setter TargetName="Label" Property="Foreground" Value="White"/>
                                                <Setter TargetName="Glyph" Property="Foreground" Value="#2563EB"/>
                                                <Setter TargetName="IconBubble" Property="Background" Value="White"/>
                                            </Trigger>

                                            <!-- Disabled -->
                                            <Trigger Property="IsEnabled" Value="False">
                                                <Setter Property="Opacity" Value="0.5"/>
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </StackPanel.Resources>

                    <!-- Items -->
                    <Button x:Name="BtnDashboard" Style="{StaticResource NavPill}"
                            Content="Dashboard" Tag="" Margin="4,4,4,0"
                            Click="Dashboard_Click" ToolTip="Dashboard"
                            />
                    <Button x:Name="BtnOrders" Style="{StaticResource NavPill}"
                            Content="Pedidos" Tag="" Margin="4,6,4,0"
                            Click="Orders_Click" ToolTip="Pedidos"/>
                    <Button x:Name="BtnClients" Style="{StaticResource NavPill}"
                            Content="Clientes" Tag="" Margin="4,6,4,0"
                            Click="Clients_Click" ToolTip="Clientes"/>
                    <Button x:Name="BtnProducts" Style="{StaticResource NavPill}"
                            Content="Productos" Tag="" Margin="4,6,4,0"
                            Click="Products_Click" ToolTip="Productos"/>
                    <Button x:Name="BtnProviders" Style="{StaticResource NavPill}"
                            Content="Proveedores" Tag="" Margin="4,6,4,0"
                            Click="Providers_Click" ToolTip="Proveedores"/>
                    <Button x:Name="BtnCaja" Style="{StaticResource NavPill}"
                            Content="Caja" Tag="" Margin="4,6,4,0"
                            Click="Caja_Click" ToolTip="Caja"/>
                    <Button x:Name="BtnReports" Style="{StaticResource NavPill}"
                            Content="Reportes" Tag="" Margin="4,6,4,0"
                            Click="Reports_Click" ToolTip="Reportes"/>
                </StackPanel>
            </ScrollViewer>

        </DockPanel>
    </Border>
</UserControl>
